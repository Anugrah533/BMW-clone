window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(f){f=(this.document||this.ownerDocument).querySelectorAll(f);var d=this,k;do for(k=f.length;0<=--k&&f.item(k)!==d;);while(0>k&&(d=d.parentElement));return d});
window.Element&&!Element.prototype.matches&&(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(f){f=(this.document||this.ownerDocument).querySelectorAll(f);for(var d=f.length;0<=--d&&f.item(d)!==this;);return-1<d});
Object.assign||(Object.assign=function(f,d){if(null===f)throw new TypeError("Cannot convert undefined or null to object");for(var k=Object(f),m=1;m<arguments.length;m++){var e=arguments[m];if(null!==e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(k[l]=e[l])}return k});
(function(f){f.forEach(function(d){Object.prototype.hasOwnProperty.call(d,"remove")||Object.defineProperty(d,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);
(function(){function f(b){function f(c){c.element.removeAttribute("data-cmp-is");c.options.src&&0<=c.options.src.indexOf("width\x3d{width}")&&(t=!0,p="width\x3d{width}");a._properties=CMP.utils.setupProperties(c.options,m);q(c.element);c.options.src&&Object.prototype.hasOwnProperty.call(c.options,"dmimage")&&"SmartCrop:Auto"===c.options.smartcroprendition&&(n=CMP.image.dynamicMedia.getAutoSmartCrops(c.options.src));a._elements.noscript&&(a._elements.container=a._elements.link?a._elements.link:a._elements.self,
y(),a._properties.lazy&&l(),a._elements.map&&a._elements.image.addEventListener("load",z),window.addEventListener("resize",r),"focus click load transitionend animationend scroll".split(" ").forEach(function(c){document.addEventListener(c,a.update)}),a._elements.image.addEventListener("cmp-image-redraw",a.update),a._interSectionObserver=new IntersectionObserver(function(c,b){c.forEach(function(c){0<c.intersectionRatio&&a.update()})}),a._interSectionObserver.observe(a._elements.self),a.update())}function u(){var c=
a._properties.widths&&0<a._properties.widths.length||0<Object.keys(n).length;if(0<Object.keys(n).length){var h=v(Object.keys(n),!1);h=n[h]}else h=c?(a._properties.dmimage?"":".")+v(a._properties.widths,!0):"";t&&(h=""!==h?"width\x3d"+h.substring(1):"");h=a._properties.src.replace(p,h);h=h.replace("{dpr}",e);var b=a._elements.image.getAttribute("src");if(h!==b)if(null===b||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"===b)a._elements.image.setAttribute("src",h);else{var g=
a._properties.src.split(p),d=b.startsWith(g[0]);d&&1<g.length&&(d=b.endsWith(g[g.length-1]));d&&(a._elements.image.setAttribute("src",h),c||window.removeEventListener("scroll",a.update))}a._lazyLoaderShowing&&a._elements.image.addEventListener("load",w);a._interSectionObserver.unobserve(a._elements.self)}function v(c,b){for(var h=a._elements.self,g=h.clientWidth;0===g&&h.parentNode;)h=h.parentNode,g=h.clientWidth;b=g*(b?e:1);h=c.length;for(g=0;g<h-1&&c[g]<b;)g++;return c[g].toString()}function l(){var c=
a._elements.image.getAttribute("width"),b=a._elements.image.getAttribute("height");if(c&&b){var d=k.style;d["padding-bottom"]=b/c*100+"%";for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(a._elements.image.style[g]=d[g])}a._elements.image.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");a._elements.image.classList.add(k.cssClass);a._lazyLoaderShowing=!0}function y(){var c=a._elements.noscript.textContent.trim();c=c.replace(/&(amp;)*lt;/g,
"\x3c");c=c.replace(/&(amp;)*gt;/g,"\x3e");c=(new DOMParser).parseFromString(c,"text/html");var b=c.querySelector(d.image);b.removeAttribute("src");a._elements.container.insertBefore(b,a._elements.noscript);(c=c.querySelector(d.map))&&a._elements.container.insertBefore(c,a._elements.noscript);a._elements.noscript.parentNode.removeChild(a._elements.noscript);a._elements.container.matches(d.image)?a._elements.image=a._elements.container:a._elements.image=a._elements.container.querySelector(d.image);
a._elements.map=a._elements.container.querySelector(d.map);a._elements.areas=a._elements.container.querySelectorAll(d.area)}function w(){a._elements.image.classList.remove(k.cssClass);for(var c in k.style)Object.prototype.hasOwnProperty.call(k.style,c)&&(a._elements.image.style[c]="");a._elements.image.removeEventListener("load",w);a._lazyLoaderShowing=!1}function x(){if(a._elements.areas&&0<a._elements.areas.length)for(var c=0;c<a._elements.areas.length;c++){var b=a._elements.image.width,d=a._elements.image.height;
if(b&&d){var g=a._elements.areas[c].dataset.cmpRelcoords;if(g){g=g.split(",");for(var f=Array(g.length),e=0;e<f.length;e++)f[e]=0===e%2?parseInt(g[e]*b):parseInt(g[e]*d);a._elements.areas[c].coords=f}}}}function q(c){a._elements={};a._elements.self=c;c=a._elements.self.querySelectorAll("[data-cmp-hook-image]");for(var b=0;b<c.length;b++){var d=c[b],g="image";g=g.charAt(0).toUpperCase()+g.slice(1);a._elements[d.dataset["cmpHook"+g]]=d}}function r(){a.update();x()}function z(){x()}var a=this,n={},t=
!1,p="{.width}";a.update=function(){if(a._properties.lazy){if(null===a._elements.container.offsetParent)var c=!1;else{c=window.pageYOffset;var b=c+document.documentElement.clientHeight,d=a._elements.container.getBoundingClientRect().top+c;c=d+a._elements.container.clientHeight>=c-a._properties.lazythreshold&&d<=b+a._properties.lazythreshold}c&&u()}else u()};b&&b.element&&f(b)}var d={self:'[data-cmp-is\x3d"image"]',image:'[data-cmp-hook-image\x3d"image"]',map:'[data-cmp-hook-image\x3d"map"]',area:'[data-cmp-hook-image\x3d"area"]'},
k={cssClass:"cmp-image__image--is-loading",style:{height:0,"padding-bottom":""}},m={widths:{"default":[],transform:function(b){var d=[];b.split(",").forEach(function(b){b=parseFloat(b);isNaN(b)||d.push(b)});return d}},lazy:{"default":!1,transform:function(b){return!(null===b||"undefined"===typeof b)}},dmimage:{"default":!1,transform:function(b){return!(null===b||"undefined"===typeof b)}},lazythreshold:{"default":0,transform:function(b){b=parseInt(b);return isNaN(b)?0:b}},src:{transform:function(b){return decodeURIComponent(b)}}},
e=window.devicePixelRatio||1,l="loading"!==document.readyState?Promise.resolve():new Promise(function(b){document.addEventListener("DOMContentLoaded",b)}),q=window.CMP&&window.CMP.utils?Promise.resolve():new Promise(function(b){document.addEventListener("core.wcm.components.commons.site.utils.loaded",b)}),r=window.CMP&&window.CMP.image&&window.CMP.image.dynamicMedia?Promise.resolve():new Promise(function(b){document.addEventListener("core.wcm.components.commons.site.image.dynamic-media.loaded",b)});
Promise.all([l,q,r]).then(function(){for(var b=document.querySelectorAll(d.self),e=0;e<b.length;e++)new f({element:b[e],options:CMP.utils.readData(b[e],"image")});b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;e=document.querySelector("body");(new b(function(b){b.forEach(function(b){b=[].slice.call(b.addedNodes);0<b.length&&b.forEach(function(b){b.querySelectorAll&&[].slice.call(b.querySelectorAll(d.self)).forEach(function(b){new f({element:b,options:CMP.utils.readData(b,
"image")})})})})})).observe(e,{subtree:!0,childList:!0,characterData:!0})})})();var grpw;
(function(f){(function(d){var f=function(){};f.prototype.init=function(d,e){this.baseUseClass=e;this.jqComponent=$(d)};f.prototype.initEventHandlers=function(){var d=this;this.jqComponent.find("a.cmp-image__link").on("click",function(e){e=$(e.currentTarget);d.baseUseClass.isExternalLink(e)?d.baseUseClass.getTracking().trackEvent("bmwgroup_external_link",{eventName:e.attr("aria-label")||e.find("img").attr("alt"),eventAction:"External Link",target:e.attr("href"),eventType:"External",navigationType:"Image"}):
d.baseUseClass.isDownloadLink(e)&&d.baseUseClass.getTracking().trackEvent("bmwgroup_download",{eventName:e.attr("aria-label")||e.find("img").attr("alt"),eventAction:"Download",target:e.attr("href"),effect:d.baseUseClass.getFileSuffix(e),eventType:"Interaction",navigationType:"Image"})})};d.Image=f})(f.component||(f.component={}))})(grpw||(grpw={}));