var grpw;
(function(d){(function(d){var a=function(c,k,a){this.resetFunction=k;this.searchFunction=a;this.jqComponent=c;this.jqAutoSuggestContainer=this.jqComponent.find(".grp-search__js-container");this.autoSuggestURL=this.jqAutoSuggestContainer.attr("data-url-autosuggest");this.jqAutoSuggestField=this.jqComponent.find(".grp-search__autosuggest-field");this.jqAutoSuggestResult=this.jqComponent.find(".grp-search__autosuggest")};a.prototype.initEventHandlers=function(){var c=this;this.jqAutoSuggestField.on("keyup",function(a){var d=
$(a.target),b=d.parents(".grp-search__js-container"),f=b.find(".grp-search__autosuggest"),g=d.val().trim(),e=b.find(".grp-search__autosuggest-item");b=b.find(".grp-search__autosuggest-selected-item");if(13===a.which)c.reset(),1===b.length?b.click():c.performSearch(g);else if(38===a.which)1===b.length?(b.removeClass("grp-search__autosuggest-selected-item"),b.prev().addClass("grp-search__autosuggest-selected-item")):0<e.length&&e.last().addClass("grp-search__autosuggest-selected-item");else if(40===
a.which)1===b.length?(b.removeClass("grp-search__autosuggest-selected-item"),b.next().addClass("grp-search__autosuggest-selected-item")):0<e.length&&e.first().addClass("grp-search__autosuggest-selected-item");else if(2<g.length&&void 0!==c.autoSuggestURL){var h=g.replace(/[^a-zA-Z0-9 ]/g,"");$.ajax({url:c.autoSuggestURL+"?q\x3d"+h}).done(function(a){var b="",e=0;$(a.results).each(function(a,c){a=new RegExp("("+h+")","g");c.name.match(a)&&(b+='\x3cdiv class\x3d"grp-search__autosuggest-item" data-value\x3d"'+
c.name+'"\x3e',b+=c.name.replace(a,"\x3cstrong\x3e$1\x3c/strong\x3e"),b+="\x3c/div\x3e",e+=1)});0<e?(f.html(b),f.show(),f.find(".grp-search__autosuggest-item").on("click",function(a){a=$(a.target).attr("data-value");d.val(a);c.reset();c.performSearch(a)})):f.hide()})}else f.hide()})};a.prototype.hideResults=function(){this.jqAutoSuggestResult.hide()};a.prototype.reset=function(){this.hideResults();null!=this.resetFunction&&this.resetFunction()};a.prototype.performSearch=function(a){this.searchFunction(a)};
d.Autosuggest=a})(d.component||(d.component={}))})(grpw||(grpw={}));